<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPLAB® Harmony Graphics Suite: Image Decode Format Performance</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script src="striped_bg.js"></script>
<link href="that_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mhgs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPLAB® Harmony Graphics Suite
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="DevelopmentTopics.html">Development Topics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Image Decode Format Performance </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><ul><li class="level3"><a href="#autotoc_md26">Predecoded Images in DDR (RAW)</a></li>
<li class="level3"><a href="#autotoc_md27">RAW Images</a></li>
<li class="level3"><a href="#autotoc_md28">JPEG Images</a></li>
<li class="level3"><a href="#autotoc_md29">Run-Length Encoded RAW Images</a></li>
</ul>
</ul>
</ul>
</div>
<div class="textblock"><p>MHGC supports various image formats and the MHGC Image Assets Manager provides the ability to convert and store a source image into to the following formats</p>
<ul>
<li>Bitmap RAW</li>
<li>Bitmap Raw Run-Length Encoded (RLE)</li>
<li>JPEG</li>
<li>PNG</li>
<li>Predecoded RAW Bitmap in DDR (PIC32MZ DA)</li>
</ul>
<p>The following table shows the relative rendering time and Flash memory requirements of the different image formats in the MPLAB Harmony Graphics Library. The rendering time includes decoding the image and drawing it to the screen. This information is helpful when optimizing a MPLAB Harmony graphics project for performance and Flash memory space. For example, as shown by the red highlighted text in the table, a 40x40 pixel 16-bit RAW image renders 2.38 times faster and uses 2.59 times more Flash space than a JPEG image.</p>
<p><img src="https://microchip-mplab-harmony.github.io/gfx/MHGC%20UG%20Decode%20Table.png" alt="" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md26"></a>
Predecoded Images in DDR (RAW)</h3>
<p>For PIC32MZ DA devices with DDR, the MHGC Image Asset Manager provides an option to predecode images from Flash and store them into DDR as RAW images. The GPU is used to render the decoded image from DDR to the frame buffer. This provides a faster render time than an equivalent RAW image in Flash memory, specifically for large images (up to 10 times faster for a 200x200 image). Conversely, predecoding small images 40x40 pixels or smaller in DDR may not render faster due to the additional overhead of setting up the GPU.</p>
<p>Recommendations: </p><pre class="fragment">If there is adequate DDR memory available, consider predecoding images to DDR for best performance
Using JPEG images and predecoding them into DDR can provide the best rendering performance and most Flash memory savings.
</pre><p>Note:</p>
<p>The images are decoded from Flash to DDR memory by the Graphics Library during initialization and may introduce delay at boot-up, depending on the number and size of the images.</p>
<h3><a class="anchor" id="autotoc_md27"></a>
RAW Images</h3>
<p>RAW images provide fast rendering time, as there is no decoding needed. However, depending on image content, it can be two times larger than a Run-Length Encoded (RLE) image and about 3 to 10 times larger than a JPEG.</p>
<p>Recommendation:</p>
<p>For small images that are to be rendered frequently, consider using a RAW image for better performance</p>
<h3><a class="anchor" id="autotoc_md28"></a>
JPEG Images</h3>
<p>JPEG images provide the most Flash space savings, but are slower to render compared to RAW and RAW RLE.</p>
<p>Recommendations: </p><pre class="fragment">If images are large and not used frequently, consider using the JPEG image format to save flash memory space
If DDR memory is available, consider predecoding JPEG images in DDR for better rendering performance
</pre><h3><a class="anchor" id="autotoc_md29"></a>
Run-Length Encoded RAW Images</h3>
<p>In terms of rendering speed and size, RAW RLE images are in between RAW and other compressed formats like JPEG or PNG. Depending on the image contents, RAW RLE can be approximately 1.5 times faster than JPEG, but could be significantly larger in size for large images. Again, depending on the image content, RAW RLE can be about half the size and performance of a RAW image.</p>
<p>Recommendation:</p>
<p>If optimizing your application for both speed and flash size consider using RAW RLE images PNG Images</p>
<p>Among the image formats, PNG is slowest to render and requires more memory to decode.</p>
<p>Recommendations: </p><pre class="fragment">Unless fine levels of alpha-blending are needed, it is better to use other image formats to achieve the best performance. Use the MHGC Asset Manager to convert the source PNG image and store it in a different image format.
If you would like to use an image with a transparent background, it may be better to use a RAW RLE image with background color masking to achieve the same effect with better performance than a PNG. Color masking is supported in the MHGC Image Asset Manager.
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
